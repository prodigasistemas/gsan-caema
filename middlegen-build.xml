<?xml version="1.0" encoding="utf-8"?>

<!--
  This build file is generated by MiddlegenIDE.
  
  MiddlegenIDE: http://ultimania.org/middlegenide/
-->

<project name="Middlegen Hibernate" default="compile" basedir=".">
   <property file="./build.properties"/>
   <property name="hibernate.cascade"    value="all" />
   <property name="package"              value="gcom" />
   <property name="gen.xdoclet-tag"      value="false" />
   <property name="gui"                  value="true" />
   <property name="lib.dir"              value="c:\IPAD\gsanDeveloperStudioX64\plugins\net.sf.middlegen_2.1.1\lib\" />
   <property name="database.schema"      value="public" />
   <property name="database.catalog"     value="" />
   <property name="dest.dir"             value="mapeamento" />
	
	<!-- oracle
   <property name="jdbc.jar"             value="C:\IPAD\jboss\server\default\lib\ojdbc6.jar" />
   <property name="database.driver"      value="oracle.jdbc.driver.OracleDriver" />
   
   <property name="database.url"         value="jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=192.168.64.239)(PORT=1521))(CONNECT_DATA=(SID=gsan239a)))" />
   <property name="database.userid"      value="system" />
   <property name="database.password"    value="oracle" />
   <property name="database.schema"      value="cadastro" />
	-->
	
	<!-- postgres 
	<property name="hibernate.cascade" value="all" />
	<property name="package" value="gcom" />
	<property name="gen.xdoclet-tag" value="false" />
	<property name="gui" value="true" />
	<property name="jdbc.jar" value="C:\base\CVSROOT\Gcom\lib\DriverPostGres\8.1\postgresql-8.1-405.jdbc3.jar" />
	<property name="database.driver" value="org.postgresql.Driver" />
	<property name="lib.dir" value="/c:/eclipse-SDK-3.1.1-win32/eclipse/plugins/net.sf.middlegen_2.1.1/lib/" />
	<property name="database.url" value="jdbc:postgresql://192.168.1.241/gcom_ts_iteracao_5_compesa" />
	<property name="database.userid" value="gcom_admin" />
	<property name="database.password" value="gcom_admin_00" />
	<property name="database.schema" value="" />
	<property name="database.catalog" value="" />
	<property name="dest.dir" value="mapeamento2/060426" />
	-->
	
	<!-- postgres integracao admin-->
   <property name="jdbc.jar" value="C:\IPAD\implantacao\Gcom\lib\DriverPostGres\8.1\postgresql-8.1-405.jdbc3.jar" /> 
   <property name="database.driver" value="org.postgresql.Driver" />
   <property name="database.url"         value="jdbc:postgresql://10.10.0.179/atualizacao_cadastral_admin" />
   <property name="database.userid"      value="gsan_atc" />
   <property name="database.password"    value="gsanatc123" />

   <target name="init" depends="prepare,fail-if-no-middlegen,fail-if-no-hibernate,fail-if-no-hibernate-ext">

     <taskdef
        name="middlegen"
        classname="middlegen.MiddlegenTask"
        classpathref="middlegen.classpath"
     />

     <taskdef
        name="hbm2java"
        classname="net.sf.hibernate.tool.hbm2java.Hbm2JavaTask"
        classpathref="hibernate-ext.classpath"
     />

    <mkdir dir="${dest.dir}"/>
   
   </target>

   <target name="prepare">

     <path id="middlegen.classpath">
        <pathelement path="${jdbc.jar}"/>
        <fileset dir="${lib.dir}" includes="*.jar"/>
     </path>

     <path id="hibernate-ext.classpath">
       <fileset dir="${lib.dir}"           includes="*.jar"/>
     </path>

     <available property="middlegen" classname="middlegen.MiddlegenTask" classpathref="middlegen.classpath"/>
     <available property="hibernate" classname="net.sf.hibernate.Hibernate" classpathref="hibernate-ext.classpath"/>
     <available property="hibernate-ext" classname="net.sf.hibernate.tool.hbm2java.Hbm2JavaTask" classpathref="hibernate-ext.classpath"/>


   </target>

   <target name="fail-if-no-middlegen" unless="middlegen">
      <fail>
      Middlegen is not found. Please install Middlegen.
      </fail>
   </target>

   <target name="fail-if-no-hibernate" unless="hibernate">
      <fail>
      Hibernate is not found. Please install Hibernate.
      </fail>
   </target>

   <target name="fail-if-no-hibernate-ext" unless="hibernate-ext">
      <fail>
      Hibernate-Extension is not found. Please install Hibernate-Extenstion.
      </fail>
   </target>
    
   <target name="gen-hbm" depends="init">

    <middlegen
         appname="gcom"
         prefsdir="."
         gui="${gui}"
         databaseurl="${database.url}"
         driver="${database.driver}"
         username="${database.userid}"
         password="${database.password}"
         schema="${database.schema}"
         catalog="${database.catalog}"
      >
         <hibernate
            destination="${dest.dir}"
            package="${package}"
            genXDocletTags="${gen.xdoclet-tag}"
       	    standardCascade="${hibernate.cascade}"
	    javaTypeMapper="middlegen.plugins.hibernate.HibernateJavaTypeMapper"
	 />

    <table name="atc_bairro" />
    <table name="atc_logradouro" />
    	
    </middlegen>
  </target>

  <target name="gen-java" depends="gen-hbm">
    <hbm2java output="${dest.dir}">
      <fileset dir="${dest.dir}"> <!--${dest.dir} -->
        <include name="**/*.hbm.xml" />
      </fileset>
    </hbm2java>
  </target>

  <target name="compile" depends="gen-java">
  </target>

</project>